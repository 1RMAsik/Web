<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Изменение цвета</title>
</head>
<body>
    <h1>Изменение цвета фона и текста</h1>

    <form id="colorForm">
        <label for="backgroundColor">Выберите цвет фона:</label>
        <input type="color" id="backgroundColor" name="backgroundColor">
        
        
        <button type="button" id="changeButton">Изменить цвет</button>
    </form>

    <script>
        document.getElementById("changeButton").addEventListener("click", function () {
            var bgColorInput = document.getElementById("backgroundColor");
            var bgColor = bgColorInput.value;

            document.body.style.backgroundColor = bgColor;

            
            var contrastTextColor = getContrastColor(bgColor);
            document.body.style.color = contrastTextColor;
        });

        
        function getContrastColor(hexColor) {
            var r = parseInt(hexColor.slice(1, 3), 16);
            var g = parseInt(hexColor.slice(3, 5), 16);
            var b = parseInt(hexColor.slice(5, 7), 16);
            var brightness = (r * 299 + g * 587 + b * 114) / 1000;

            return brightness >= 128 ? "#000000" : "#ffffff"; 
        }
    </script>
</body>
</html>
